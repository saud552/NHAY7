# ðŸ” ØªØ­Ø¯ÙŠØ« Ù†Ø¸Ø§Ù… Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ø¥Ø¬Ø¨Ø§Ø±ÙŠ Ø§Ù„Ù…Ø­Ø³Ù†

## ðŸ“‹ **Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬Ø¯ÙŠØ¯**

ØªÙ… ØªØ­Ø¯ÙŠØ« Ù†Ø¸Ø§Ù… Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ø¥Ø¬Ø¨Ø§Ø±ÙŠ Ù„ÙŠØ¹Ù…Ù„ Ø¨Ø¯Ù‚Ø© Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© ÙˆØ§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„Ø¨ÙˆØª.

---

## ðŸŽ¯ **Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ø¥Ø¬Ø¨Ø§Ø±ÙŠ**

### ðŸ’¬ **ÙÙŠ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ø§Ù„Ø®Ø§ØµØ© Ù…Ø¹ Ø§Ù„Ø¨ÙˆØª:**
- âœ… **ÙØ­Øµ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„** - Ø£ÙŠ Ø±Ø³Ø§Ù„Ø© ÙŠØ±Ø³Ù„Ù‡Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
- âœ… **ÙØ­Øµ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙˆØ§Ù…Ø±** - Ø£ÙŠ Ø£Ù…Ø± ÙŠØ³ØªØ®Ø¯Ù…Ù‡
- âœ… **ÙØ­Øµ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù€ callbacks** - Ø£ÙŠ Ø²Ø± ÙŠØ¶ØºØ· Ø¹Ù„ÙŠÙ‡
- ðŸŽ¯ **Ø§Ù„Ø³Ø¨Ø¨:** Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„Ø¨ÙˆØª Ù…Ø¨Ø§Ø´Ø±Ø©

### ðŸ‘¥ **ÙÙŠ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª ÙˆØ§Ù„Ù‚Ù†ÙˆØ§Øª:**
- âœ… **ÙØ­Øµ Ø¹Ù†Ø¯ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£ÙˆØ§Ù…Ø± ÙÙ‚Ø·** - `/play`, `/stop`, `/pause` Ø¥Ù„Ø®
- âœ… **ÙØ­Øµ Ø¹Ù†Ø¯ Ù…Ù†Ø´Ù† Ø§Ù„Ø¨ÙˆØª** - `@bot_username`
- âœ… **ÙØ­Øµ Ø¹Ù†Ø¯ Ø§Ù„Ø±Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙˆØª** - Ø§Ù„Ø±Ø¯ Ø¹Ù„Ù‰ Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø¨ÙˆØª
- âœ… **ÙØ­Øµ Ø¹Ù†Ø¯ Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙƒÙ„Ù…Ø§Øª Ù…ÙØªØ§Ø­ÙŠØ©** - Ø´ØºÙ„ØŒ ØªØ´ØºÙŠÙ„ØŒ Ù…ÙˆØ³ÙŠÙ‚Ù‰ØŒ Ø¥Ù„Ø®
- âœ… **ÙØ­Øµ Ø¹Ù†Ø¯ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ø²Ø±Ø§Ø±** - Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰
- âŒ **Ù„Ø§ ÙØ­Øµ Ù„Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø¹Ø§Ø¯ÙŠØ©** - Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ø§Ù„Ø¹Ø§Ø¯ÙŠØ© Ø¨ÙŠÙ† Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡
- ðŸŽ¯ **Ø§Ù„Ø³Ø¨Ø¨:** Ø¹Ø¯Ù… Ø¥Ø²Ø¹Ø§Ø¬ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙÙŠ Ù…Ø­Ø§Ø¯Ø«Ø§ØªÙ‡Ù… Ø§Ù„Ø¹Ø§Ø¯ÙŠØ©

---

## ðŸ”§ **Ø§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ù…Ø·Ø¨Ù‚Ø©**

### ðŸ“± **ÙÙŠ `ZeMusic/core/command_handler.py`:**

#### **1. ÙØ­Øµ Ø°ÙƒÙŠ Ù„Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª:**
```python
# ØªØ­Ø¯ÙŠØ¯ Ù†ÙˆØ¹ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
is_private_chat = chat_id > 0      # Ù…Ø­Ø§Ø¯Ø«Ø© Ø®Ø§ØµØ©
is_group_or_channel = chat_id < 0  # Ù…Ø¬Ù…ÙˆØ¹Ø© Ø£Ùˆ Ù‚Ù†Ø§Ø©

# Ù‚ÙˆØ§Ø¹Ø¯ Ù…Ø®ØªÙ„ÙØ© Ù„ÙƒÙ„ Ù†ÙˆØ¹
if is_private_chat:
    # ÙØ­Øµ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
    should_check_subscription = True
elif is_group_or_channel:
    # ÙØ­Øµ ÙÙ‚Ø· Ø¹Ù†Ø¯ Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„Ø¨ÙˆØª
    should_check_subscription = is_using_bot
```

#### **2. ÙƒØ´Ù Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„Ø¨ÙˆØª ÙÙŠ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª:**
```python
# Ø·Ø±Ù‚ ÙƒØ´Ù Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„Ø¨ÙˆØª:
is_bot_command = text.startswith('/')
is_bot_mention = f"@{bot_username}" in text
is_reply_to_bot = reply_to_message.sender == bot_id
is_using_bot_keywords = any(keyword in text.lower() for keyword in bot_keywords)
```

#### **3. ÙƒÙ„Ù…Ø§Øª Ù…ÙØªØ§Ø­ÙŠØ© Ù„Ù„Ø¨ÙˆØª:**
```python
bot_keywords = [
    'Ø´ØºÙ„', 'ØªØ´ØºÙŠÙ„', 'play', 'Ø§ÙŠÙ‚Ø§Ù', 'ÙˆÙ‚Ù', 'stop', 'pause', 'resume',
    'ØªØ®Ø·ÙŠ', 'skip', 'next', 'ØªØ§Ù„ÙŠ', 'Ù‚Ø§Ø¦Ù…Ø©', 'queue', 'Ù…ÙˆØ³ÙŠÙ‚Ù‰', 'music',
    'ØµÙˆØª', 'audio', 'video', 'ÙÙŠØ¯ÙŠÙˆ', 'Ø¨Ø­Ø«', 'search'
]
```

#### **4. ÙØ­Øµ Ø§Ù„Ù€ Callback Queries:**
```python
# ÙØ­Øµ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ù„Ù„Ø£Ø²Ø±Ø§Ø± Ø£ÙŠØ¶Ø§Ù‹
if should_check_subscription:
    is_subscribed = await force_subscribe_handler.check_user_subscription(sender_id)
    if not is_subscribed:
        await answer_callback_query(callback_id, "ðŸ” ÙŠØ¬Ø¨ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ ÙÙŠ Ø§Ù„Ù‚Ù†Ø§Ø© Ø£ÙˆÙ„Ø§Ù‹!", True)
        return
```

---

## ðŸŽ­ **Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…**

### âœ… **Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª ÙŠØªÙ… ÙÙŠÙ‡Ø§ ÙØ­Øµ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ:**

#### **Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ø§Ù„Ø®Ø§ØµØ©:**
- Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ±Ø³Ù„ "Ù…Ø±Ø­Ø¨Ø§" Ù„Ù„Ø¨ÙˆØª
- Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ±Ø³Ù„ "/play Ø£ØºÙ†ÙŠØ©"
- Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ¶ØºØ· Ø¹Ù„Ù‰ Ø£ÙŠ Ø²Ø±
- Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ±Ø³Ù„ Ù…Ù„Ù Ø£Ùˆ ØµÙˆØ±Ø©

#### **Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª ÙˆØ§Ù„Ù‚Ù†ÙˆØ§Øª:**
- Ù…Ø³ØªØ®Ø¯Ù… ÙŠÙƒØªØ¨ "/play Ø£ØºÙ†ÙŠØ© Ù…Ø­Ù…Ø¯ Ø¹Ø¨Ø¯Ù‡"
- Ù…Ø³ØªØ®Ø¯Ù… ÙŠÙƒØªØ¨ "Ø´ØºÙ„ Ù…ÙˆØ³ÙŠÙ‚Ù‰"
- Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ°ÙƒØ± Ø§Ù„Ø¨ÙˆØª "@music_bot Ø´ØºÙ„ Ø£ØºÙ†ÙŠØ©"
- Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ±Ø¯ Ø¹Ù„Ù‰ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¨ÙˆØª
- Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ¶ØºØ· Ø¹Ù„Ù‰ Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ…

### âŒ **Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª Ù„Ø§ ÙŠØªÙ… ÙÙŠÙ‡Ø§ ÙØ­Øµ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ:**

#### **Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ø§Ù„Ø®Ø§ØµØ©:**
- Ù„Ø§ ØªÙˆØ¬Ø¯ - ÙŠØªÙ… ÙØ­Øµ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„

#### **Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª ÙˆØ§Ù„Ù‚Ù†ÙˆØ§Øª:**
- Ù…Ø³ØªØ®Ø¯Ù… ÙŠÙƒØªØ¨ "Ù…Ø±Ø­Ø¨Ø§ ÙƒÙŠÙÙƒÙ…"
- Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ±Ø¯ Ø¹Ù„Ù‰ Ø¹Ø¶Ùˆ Ø¢Ø®Ø±
- Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ±Ø³Ù„ Ù…Ù„Ù Ù„Ø§ Ø¹Ù„Ø§Ù‚Ø© Ù„Ù‡ Ø¨Ø§Ù„Ø¨ÙˆØª
- Ù…Ø³ØªØ®Ø¯Ù… ÙŠØªØ­Ø¯Ø« Ù…Ø¹ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ø¢Ø®Ø±ÙŠÙ†
- Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ø¹Ø§Ø¯ÙŠØ© Ø¨ÙŠÙ† Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡

---

## ðŸ›¡ï¸ **Ø§Ù„Ø§Ø³ØªØ«Ù†Ø§Ø¡Ø§Øª Ø§Ù„Ø¯Ø§Ø¦Ù…Ø©**

Ø¨ØºØ¶ Ø§Ù„Ù†Ø¸Ø± Ø¹Ù† Ù†ÙˆØ¹ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©ØŒ Ù‡Ø¤Ù„Ø§Ø¡ Ù…Ø¹ÙÙŠÙˆÙ† Ø¯Ø§Ø¦Ù…Ø§Ù‹:

### ðŸ‘¨â€ðŸ’» **Ø§Ù„Ù…Ø·ÙˆØ±:**
- `sender_id == OWNER_ID`
- Ù„Ø§ ÙŠØ®Ø¶Ø¹ Ù„Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ø¥Ø¬Ø¨Ø§Ø±ÙŠ Ù…Ø·Ù„Ù‚Ø§Ù‹

### ðŸ”§ **Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©:**
- `/admin`, `/owner`
- Ù…Ø¹ÙÙŠØ© Ù„Ù„ÙˆØµÙˆÙ„ Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…

### ðŸ **Ø£Ù…Ø± Ø§Ù„Ø¨Ø¯Ø¡:**
- `/start`
- Ù…Ø¹ÙÙŠ Ù„Ù„ØªØ±Ø­ÙŠØ¨ ÙˆØ§Ù„ØªØ¹Ø±ÙŠÙ Ø¨Ø§Ù„Ø¨ÙˆØª

### ðŸ”„ **Ø²Ø± Ø§Ù„ØªØ­Ù‚Ù‚:**
- `check_subscription`
- Ù…Ø¹ÙÙŠ Ù„Ø£Ù†Ù‡ Ø¬Ø²Ø¡ Ù…Ù† Ù†Ø¸Ø§Ù… Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ù†ÙØ³Ù‡

---

## ðŸ“Š **Ù…Ø«Ø§Ù„ ØªØ·Ø¨ÙŠÙ‚ÙŠ**

### ðŸ  **Ù…Ø­Ø§Ø¯Ø«Ø© Ø®Ø§ØµØ©:**
```
ðŸ‘¤ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: Ù…Ø±Ø­Ø¨Ø§
ðŸ¤– Ø§Ù„Ø¨ÙˆØª: ðŸ” ÙŠØ¬Ø¨ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ ÙÙŠ Ø§Ù„Ù‚Ù†Ø§Ø© Ø£ÙˆÙ„Ø§Ù‹!

ðŸ‘¤ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: /play
ðŸ¤– Ø§Ù„Ø¨ÙˆØª: ðŸ” ÙŠØ¬Ø¨ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ ÙÙŠ Ø§Ù„Ù‚Ù†Ø§Ø© Ø£ÙˆÙ„Ø§Ù‹!
```

### ðŸ‘¥ **Ù…Ø¬Ù…ÙˆØ¹Ø©:**
```
ðŸ‘¤ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: Ù…Ø±Ø­Ø¨Ø§ ÙŠØ§ Ø¬Ù…Ø§Ø¹Ø©
// Ù„Ø§ ÙŠØ­Ø¯Ø« Ø´ÙŠØ¡ - Ù…Ø­Ø§Ø¯Ø«Ø© Ø¹Ø§Ø¯ÙŠØ©

ðŸ‘¤ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: /play Ø£ØºÙ†ÙŠØ©
ðŸ¤– Ø§Ù„Ø¨ÙˆØª: ðŸ” ÙŠØ¬Ø¨ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ ÙÙŠ Ø§Ù„Ù‚Ù†Ø§Ø© Ø£ÙˆÙ„Ø§Ù‹!

ðŸ‘¤ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: Ø´ØºÙ„ Ù…ÙˆØ³ÙŠÙ‚Ù‰
ðŸ¤– Ø§Ù„Ø¨ÙˆØª: ðŸ” ÙŠØ¬Ø¨ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ ÙÙŠ Ø§Ù„Ù‚Ù†Ø§Ø© Ø£ÙˆÙ„Ø§Ù‹!

ðŸ‘¤ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ÙƒÙŠÙ Ø­Ø§Ù„Ùƒ ÙŠØ§ Ø£Ø­Ù…Ø¯ØŸ
// Ù„Ø§ ÙŠØ­Ø¯Ø« Ø´ÙŠØ¡ - Ù…Ø­Ø§Ø¯Ø«Ø© Ø¹Ø§Ø¯ÙŠØ©
```

---

## âœ… **Ø§Ù„Ù†ØªÙŠØ¬Ø©**

Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¢Ù† ÙŠØ¹Ù…Ù„ Ø¨Ø¯Ù‚Ø© Ø­Ø³Ø¨ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:

1. **ðŸ  Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ø®Ø§ØµØ©:** ÙØ­Øµ Ø´Ø§Ù…Ù„ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
2. **ðŸ‘¥ Ù…Ø¬Ù…ÙˆØ¹Ø§Øª/Ù‚Ù†ÙˆØ§Øª:** ÙØ­Øµ ÙÙ‚Ø· Ø¹Ù†Ø¯ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙˆØª
3. **ðŸŽ¯ Ø°ÙƒÙŠ ÙˆÙ…Ø±Ù†:** ÙŠØªÙƒÙŠÙ Ù…Ø¹ Ù†ÙˆØ¹ Ø§Ù„ØªÙØ§Ø¹Ù„
4. **ðŸš« ØºÙŠØ± Ù…Ø²Ø¹Ø¬:** Ù„Ø§ ÙŠØªØ¯Ø®Ù„ ÙÙŠ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ø§Ù„Ø¹Ø§Ø¯ÙŠØ©
5. **ðŸ”’ Ø¢Ù…Ù†:** ÙŠØºØ·ÙŠ Ø¬Ù…ÙŠØ¹ Ø·Ø±Ù‚ Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„Ø¨ÙˆØª

Ø§Ù„Ù†Ø¸Ø§Ù… Ù…Ø­Ø³Ù† ÙˆØ¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…! ðŸŽµâœ¨